import{g as D,a as b,b as x}from"./main-BetuNXjy.js";function y(e){if(!e)return null;if(/^\d{4}-\d{2}-\d{2}$/.test(e)){const a=new Date(e);if(!isNaN(a.getTime()))return a}if(/^\d{1,2}\/\d{1,2}\/\d{4}$/.test(e)){const[a,r,t]=e.split("/").map(Number);return new Date(t,r-1,a)}if(/^\d{1,2}-\d{1,2}-\d{4}$/.test(e)){const[a,r,t]=e.split("-").map(Number);return new Date(t,r-1,a)}const n={january:0,february:1,march:2,april:3,may:4,june:5,july:6,august:7,september:8,october:9,november:10,december:11},s=e.match(/^(\d{1,2})\s+(\w+)\s+(\d{4})$/i);if(s){const a=parseInt(s[1]),r=n[s[2].toLowerCase()],t=parseInt(s[3]);if(r!==void 0)return new Date(t,r,a)}return null}function f(e){const n=typeof e=="string"?y(e):e;if(!n||isNaN(n.getTime()))return"";const s=["January","February","March","April","May","June","July","August","September","October","November","December"];return`${n.getDate()} ${s[n.getMonth()]} ${n.getFullYear()}`}function I(e){const{taxYear:n,spStartDate:s,weeklyAmount:a,taxYearConfigs:r={}}=e;if(!s||!a||a<=0)return{annual:0,monthly:0,isReceiving:!1,isFirstYear:!1,weeksInYear:0,startDate:null};const t=typeof s=="string"?y(s):s;if(!t||isNaN(t.getTime()))return{annual:0,monthly:0,isReceiving:!1,isFirstYear:!1,weeksInYear:0,startDate:null};const o=D(t);b(n);const l=x(n),m=[...new Set([o,n,...Object.keys(r)])].sort(),g=m.indexOf(o),h=m.indexOf(n);if(h<g)return{annual:0,monthly:0,isReceiving:!1,isFirstYear:!1,weeksInYear:0,startDate:f(t)};let Y=1;for(let u=g;u<h;u++){const c=m[u],i=r[c],w=(i==null?void 0:i.cpi)||.025;Y*=1+w}const d=a*Y;if(n===o){const c=Math.max(0,(l.getTime()-t.getTime())/6048e5),i=d*c;return{annual:i,monthly:i/12,isReceiving:!0,isFirstYear:!0,weeksInYear:Math.round(c*10)/10,startDate:f(t)}}const p=d*52;return{annual:p,monthly:p/12,isReceiving:!0,isFirstYear:!1,weeksInYear:52,startDate:f(t)}}function M(e,n=new Date){const s=typeof e=="string"?y(e):e;if(!s||isNaN(s.getTime()))return{years:0,months:0,totalMonths:0,isPast:!1};const a=s.getTime()-n.getTime(),r=a<=0;if(r)return{years:0,months:0,totalMonths:0,isPast:!0};const t=Math.floor(a/(30.44*24*60*60*1e3)),o=Math.floor(t/12),l=t%12;return{years:o,months:l,totalMonths:t,isPast:r}}export{I as calculateStatePensionForTaxYear,f as formatStatePensionDate,M as getTimeUntilStatePension,y as parseStatePensionDate};
