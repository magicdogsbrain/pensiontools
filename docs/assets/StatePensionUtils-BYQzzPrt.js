import{g as x,a as D,b as T}from"./main-ZC9cLl5x.js";function y(e){if(!e)return null;if(/^\d{4}-\d{2}-\d{2}$/.test(e)){const s=new Date(e);if(!isNaN(s.getTime()))return s}if(/^\d{2}\/\d{2}\/\d{4}$/.test(e)){const[s,r,a]=e.split("/").map(Number);return new Date(a,r-1,s)}const t={january:0,february:1,march:2,april:3,may:4,june:5,july:6,august:7,september:8,october:9,november:10,december:11},n=e.match(/^(\d{1,2})\s+(\w+)\s+(\d{4})$/i);if(n){const s=parseInt(n[1]),r=t[n[2].toLowerCase()],a=parseInt(n[3]);if(r!==void 0)return new Date(a,r,s)}return null}function m(e){const t=typeof e=="string"?y(e):e;if(!t||isNaN(t.getTime()))return"";const n=["January","February","March","April","May","June","July","August","September","October","November","December"];return`${t.getDate()} ${n[t.getMonth()]} ${t.getFullYear()}`}function I(e){const{taxYear:t,spStartDate:n,weeklyAmount:s,taxYearConfigs:r={}}=e;if(!n||!s||s<=0)return{annual:0,monthly:0,isReceiving:!1,isFirstYear:!1,weeksInYear:0,startDate:null};const a=typeof n=="string"?y(n):n;if(!a||isNaN(a.getTime()))return{annual:0,monthly:0,isReceiving:!1,isFirstYear:!1,weeksInYear:0,startDate:null};const o=x(a);D(t);const l=T(t),f=[...new Set([o,t,...Object.keys(r)])].sort(),g=f.indexOf(o),h=f.indexOf(t);if(h<g)return{annual:0,monthly:0,isReceiving:!1,isFirstYear:!1,weeksInYear:0,startDate:m(a)};let Y=1;for(let u=g;u<h;u++){const c=f[u],i=r[c],w=(i==null?void 0:i.cpi)||.025;Y*=1+w}const d=s*Y;if(t===o){const c=Math.max(0,(l.getTime()-a.getTime())/6048e5),i=d*c;return{annual:i,monthly:i/12,isReceiving:!0,isFirstYear:!0,weeksInYear:Math.round(c*10)/10,startDate:m(a)}}const p=d*52;return{annual:p,monthly:p/12,isReceiving:!0,isFirstYear:!1,weeksInYear:52,startDate:m(a)}}function M(e,t=new Date){const n=typeof e=="string"?y(e):e;if(!n||isNaN(n.getTime()))return{years:0,months:0,totalMonths:0,isPast:!1};const s=n.getTime()-t.getTime(),r=s<=0;if(r)return{years:0,months:0,totalMonths:0,isPast:!0};const a=Math.floor(s/(30.44*24*60*60*1e3)),o=Math.floor(a/12),l=a%12;return{years:o,months:l,totalMonths:a,isPast:r}}export{I as calculateStatePensionForTaxYear,m as formatStatePensionDate,M as getTimeUntilStatePension,y as parseStatePensionDate};
